{"version":3,"sources":["webpack:///webpack/bootstrap 2b89fa200886b2a2f839?4085","webpack:///./jsx/login.jsx"],"names":["LoginBox","React","createClass","getInitialState","console","log","username","invalid","value","password","errorMsg","message","class","getInputClass","name","state","focusHandler","e","newState","target","id","setState","changeHander","submitHandler","validate","submit","valid","trim","me","$","post","data","window","location","replace","loginFailed","alert","bind","render","ReactDOM","document","getElementById"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACrCA,KAAIA,WAAWC,MAAMC,WAAN,CAAkB;AAAA;;AAChCC,mBAAiB,2BAAW;AAC3BC,WAAQC,GAAR,CAAY,mBAAZ;AACA,UAAO;AACNC,cAAU;AACTC,cAAS,KADA;AAETC,YAAO;AAFE,KADJ;AAKNC,cAAU;AACTF,cAAS,KADA;AAETC,YAAO;AAFE,KALJ;AASNE,cAAU;AACTC,cAAS,EADA;AAETC,YAAO;AAFE;AATJ,IAAP;AAcA,GAjB+B;AAkBhCC,iBAAe,uBAASC,IAAT,EAAe;AAC7B,UAAO,KAAKC,KAAL,CAAWD,IAAX,EAAiBP,OAAjB,GAA2B,OAA3B,GAAqC,EAA5C;AACA,GApB+B;AAqBhCS,gBAAc,sBAASC,CAAT,EAAY;AACzBb,WAAQC,GAAR,CAAY,OAAZ;AACA,OAAIa,WAAW,KAAKH,KAApB;AACAG,YAASD,EAAEE,MAAF,CAASC,EAAlB,EAAsBb,OAAtB,GAAgC,KAAhC;AACA,QAAKc,QAAL,CAAcH,QAAd;AACA,GA1B+B;AA2BhCI,gBAAc,sBAASL,CAAT,EAAY;AACzBb,WAAQC,GAAR,CAAY,WAAZ;AACA,OAAIa,WAAW,KAAKH,KAApB;AACAG,YAASD,EAAEE,MAAF,CAASC,EAAlB,EAAsBZ,KAAtB,GAA8BS,EAAEE,MAAF,CAASX,KAAvC;AACA,QAAKa,QAAL,CAAcH,QAAd;AACA,GAhC+B;AAiChCK,iBAAe,yBAAW;;AAGzB,OAAG,KAAKC,QAAL,EAAH,EAAoB;AACnB,SAAKC,MAAL;AACA,IAFD,MAEO;AACN,SAAKJ,QAAL,CAAc;AACbX,eAAU;AACTE,aAAO,OADE;AAETD,eAAS;AAFA;AADG,KAAd;AAMA;AAED,GA/C+B;AAgDhCa,YAAU,oBAAW;;AAEpB,OAAIN,WAAW,KAAKH,KAApB;AACA,OAAIW,QAAQ,IAAZ;;AAEAtB,WAAQC,GAAR,CAAY,KAAKU,KAAjB;;AAEA;AACA,OAAG,KAAKA,KAAL,CAAWT,QAAX,CAAoBE,KAApB,CAA0BmB,IAA1B,MAAoC,EAAvC,EAA2C;AAC1CD,YAAQ,KAAR;AACAR,aAASZ,QAAT,CAAkBC,OAAlB,GAA4B,IAA5B;AACA;;AAED;AACA,OAAG,KAAKQ,KAAL,CAAWN,QAAX,CAAoBD,KAApB,CAA0BmB,IAA1B,MAAoC,EAAvC,EAA2C;AAC1CD,YAAQ,KAAR;AACAR,aAAST,QAAT,CAAkBF,OAAlB,GAA4B,IAA5B;AACA;;AAED,QAAKc,QAAL,CAAcH,QAAd;;AAEA,UAAOQ,KAAP;AAEA,GAvE+B;AAwEhCD,UAAQ,kBAAW;AAAE;AACpBrB,WAAQC,GAAR,CAAY,aAAa,KAAKU,KAAL,CAAWT,QAAX,CAAoBE,KAAjC,GAAyC,IAAzC,GAAgD,KAAKO,KAAL,CAAWN,QAAX,CAAoBD,KAAhF;AACA,OAAIoB,KAAK,IAAT;AACAC,KAAEC,IAAF,CAAQ,QAAR,EAAkB,EAAExB,UAAU,KAAKS,KAAL,CAAWT,QAAX,CAAoBE,KAAhC,EAAuCC,UAAU,KAAKM,KAAL,CAAWN,QAAX,CAAoBD,KAArE,EAAlB,EAA+F,UAAUuB,IAAV,EAAiB;AAC/G3B,YAAQC,GAAR,CAAY,IAAZ;AACA,QAAG0B,SAAS,SAAZ,EAAuB;AACtBC,YAAOC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB;AACA,KAFD,MAEO,IAAIH,SAAS,SAAb,EAAwB;AAC9B,UAAKI,WAAL;AACA,KAFM,MAEA;AACNC,WAAM,qEAAN;AACA;AACD,IAT8F,CAS7FC,IAT6F,CASxF,IATwF,CAA/F;AAUA,GArF+B;AAsFhCF,eAAa,uBAAW;;AAEvB,OAAIjB,WAAW,KAAKH,KAApB;;AAEAG,YAASZ,QAAT,CAAkBC,OAAlB,GAA4B,IAA5B;AACAW,YAAST,QAAT,CAAkBF,OAAlB,GAA4B,IAA5B;;AAEAW,YAASR,QAAT,GAAoB;AACnBE,WAAO,OADY;AAEnBD,aAAS;AAFU,IAApB;;AAKA,QAAKU,QAAL,CAAcH,QAAd;AAEA,GApG+B;AAqGhCoB,UAAQ,kBAAW;AAClB,UACC;AAAA;AAAA,MAAK,WAAU,UAAf;AACC,mCAAO,MAAK,UAAZ,EAAuB,IAAG,UAA1B,EAAqC,OAAO,KAAKvB,KAAL,CAAWT,QAAX,CAAoBE,KAAhE,EAAuE,aAAa,qBAApF,EAA2G,WAAW,KAAKK,aAAL,CAAmB,UAAnB,CAAtH,EAAsJ,SAAS,KAAKG,YAApK,EAAkL,UAAU,KAAKM,YAAjM,GADD;AAEC,mCAAO,MAAK,UAAZ,EAAuB,IAAG,UAA1B,EAAqC,OAAO,KAAKP,KAAL,CAAWN,QAAX,CAAoBD,KAAhE,EAAuE,aAAa,qBAApF,EAA2G,WAAW,KAAKK,aAAL,CAAmB,UAAnB,CAAtH,EAAsJ,SAAS,KAAKG,YAApK,EAAkL,UAAU,KAAKM,YAAjM,GAFD;AAGC;AAAA;AAAA,OAAG,IAAG,UAAN,EAAiB,WAAW,KAAKP,KAAL,CAAWL,QAAX,CAAoBE,KAAhD;AAAwD,UAAKG,KAAL,CAAWL,QAAX,CAAoBC;AAA5E,KAHD;AAIC,mCAAO,MAAK,QAAZ,EAAqB,OAAM,OAA3B,EAAmC,SAAS,KAAKY,aAAjD;AAJD,IADD;AAQA;AA9G+B,EAAlB,CAAf;;AAiHAgB,UAASD,MAAT,CAAgB,oBAAC,QAAD,OAAhB,EAA8BE,SAASC,cAAT,CAAwB,WAAxB,CAA9B,E","file":"login.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2b89fa200886b2a2f839\n **/","\r\nvar LoginBox = React.createClass({\r\n\tgetInitialState: function() {\r\n\t\tconsole.log('get initial state');\r\n\t\treturn {\r\n\t\t\tusername: {\r\n\t\t\t\tinvalid: false,\r\n\t\t\t\tvalue: ''\r\n\t\t\t},\r\n\t\t\tpassword: {\r\n\t\t\t\tinvalid: false,\r\n\t\t\t\tvalue: ''\t\t\t\t\r\n\t\t\t},\r\n\t\t\terrorMsg: {\r\n\t\t\t\tmessage: '',\r\n\t\t\t\tclass: ''\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tgetInputClass: function(name) {\r\n\t\treturn this.state[name].invalid ? 'error' : '';\r\n\t},\r\n\tfocusHandler: function(e) {\r\n\t\tconsole.log('focus');\r\n\t\tvar newState = this.state;\r\n\t\tnewState[e.target.id].invalid = false;\r\n\t\tthis.setState(newState);\r\n\t},\r\n\tchangeHander: function(e) {\r\n\t\tconsole.log('on change');\r\n\t\tvar newState = this.state;\r\n\t\tnewState[e.target.id].value = e.target.value;\r\n\t\tthis.setState(newState);\r\n\t},\r\n\tsubmitHandler: function() {\r\n\t\t\r\n\r\n\t\tif(this.validate()) {\t\t\t\r\n\t\t\tthis.submit()\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\terrorMsg: {\r\n\t\t\t\t\tclass: 'error',\r\n\t\t\t\t\tmessage: 'Please enter a valid username and password.'\r\n\t\t\t\t}\r\n\t\t\t});\t\t\r\n\t\t}\r\n\t\t\t\r\n\t},\r\n\tvalidate: function() {\r\n\t\t\r\n\t\tvar newState = this.state;\r\n\t\tvar valid = true;\r\n\r\n\t\tconsole.log(this.state);\r\n\t\t\r\n\t\t// validate username\r\n\t\tif(this.state.username.value.trim() == '') {\r\n\t\t\tvalid = false\r\n\t\t\tnewState.username.invalid = true;\r\n\t\t}\r\n\r\n\t\t// validate password\r\n\t\tif(this.state.password.value.trim() == '') { \r\n\t\t\tvalid = false;\t\t\r\n\t\t\tnewState.password.invalid = true;\r\n\t\t}\r\n\r\n\t\tthis.setState(newState);\r\n\r\n\t\treturn valid;\r\n\r\n\t},\r\n\tsubmit: function() {\t//submit to the server\r\n\t\tconsole.log('Submit: ' + this.state.username.value + ', ' + this.state.password.value);\r\n\t\tvar me = this;\r\n\t\t$.post( \"/login\", { username: this.state.username.value, password: this.state.password.value}, function( data ) {\r\n\t\t\tconsole.log(this);\r\n\t\t\tif(data === 'success') {\r\n\t\t\t\twindow.location.replace('/');\r\n\t\t\t} else if (data === 'failure') {\r\n\t\t\t\tthis.loginFailed();\r\n\t\t\t} else {\r\n\t\t\t\talert('ERROR: There was a problem with your login. Please contact support.')\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t},\r\n\tloginFailed: function() {\r\n\r\n\t\tvar newState = this.state;\r\n\r\n\t\tnewState.username.invalid = true;\r\n\t\tnewState.password.invalid = true;\r\n\r\n\t\tnewState.errorMsg = {\r\n\t\t\tclass: 'error',\r\n\t\t\tmessage: 'Incorrect username and or password. Please enter a valid username and password.'\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState(newState);\r\n\r\n\t},\r\n\trender: function() {\r\n\t\treturn(\r\n\t\t\t<div className='loginBox'>\r\n\t\t\t\t<input type='username' id='username' value={this.state.username.value} placeholder={'Enter your username'} className={this.getInputClass('username')} onFocus={this.focusHandler} onChange={this.changeHander} />\r\n\t\t\t\t<input type='password' id='password' value={this.state.password.value} placeholder={'Enter your password'} className={this.getInputClass('password')} onFocus={this.focusHandler} onChange={this.changeHander} />\r\n\t\t\t\t<p id='errorMsg' className={this.state.errorMsg.class}>{this.state.errorMsg.message}</p>\t\t\t\r\n\t\t\t\t<input type='button' value='Login' onClick={this.submitHandler} />\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nReactDOM.render(<LoginBox />, document.getElementById('container'));\n\n\n/** WEBPACK FOOTER **\n ** ./jsx/login.jsx\n **/"],"sourceRoot":""}